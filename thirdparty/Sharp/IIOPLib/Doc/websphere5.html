<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE>IIOP.NET - IBM Websphere 5 compatibility howto</TITLE>
<link type="text/css" rel="stylesheet" href="style/basic.css">
</HEAD>
<BODY style="margin=0px">
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" width="100%" height="100%" rules="none" style="margin=0px;" summary="">
<!--Line 0 -->
<TR>
  <TD width="0px" height="0px"></TD>
  <TD width="120px" height="0px"></TD>
  <TD width="18px" height="0px"></TD>
  <TD width="280px" height="0px"></TD>
  <TD height="0px"></TD>
  <TD width="1px" height="0px"></TD>
  <TD width="88px" height="0px"></TD>
  <TD width="120px" height="0px"></TD>
  <TD width="1px" height="0px"></TD>
  <TD width="44px" height="0px"></TD>
</TR>
<!--Line 1 -->
<TR>
  <TD width="0px" height="34px"></TD>
  <TD COLSPAN="6"></TD>
  <TD ALIGN="RIGHT" STYLE="padding-right: 8px;">
<a href="contact.html" class="contactLink">Contact us</A>
|
<a href="links.html" class="contactLink">Links</A>
  </TD>
  <TD bgcolor="#666633"></TD>
  <TD height="34px"></TD>
</TR>
<!--Line 2 -->
<TR>
  <TD width="0px" height="69px"></TD>
  <TD COLSPAN="3"><IMG SRC="images/iiop_logo_top.gif" alt=""></TD>
  <TD COLSPAN="4"></TD>
  <TD bgcolor="#666633" width="1px"></TD>
  <TD height="69px"></TD>
</TR>
<!--Line 3 -->
<TR>
  <TD width="0px" height="4px"></TD>
  <TD height="4px" COLSPAN="9" BGCOLOR="#CC3300"></TD>
</TR>
<!--Line 4 + 5 -->
<TR>
  <TD width="0"></TD>
  <TD width="120">
  <!-- menu begin -->
<P class="menu">
<TABLE border="1" rules="none" STYLE="border-width="0" 0 1 0" CELLPADDING="4" CELLSPACING="0" WIDTH="100%" STYLE="BORDER-COLOR:#CC3300; border-style: solid" summary="">
<TR><TD class="menu"><a class="menuLink" href="index.html">Overview</A></TD></TR>
<TR><TD class="menu"><a class="menuLink" href="documentation.html">Documentation</A></TD></TR>
<TR><TD class="menu"><a class="menuLink" href="support.html">Support</A></TD></TR>
<TR><TD class="menu"><a class="menuLink" href="contribute.html">Contribute</A></TD></TR>
<TR><TD class="menu"><a class="menuLink" href="status.html">Status</A></TD></TR>
<TR><TD class="menu"><a class="menuLink" href="license.html">License</A></TD></TR>
<TR><TD class="menu"><a class="menuLink" href="download.html">Download</A></TD></TR>
<TR><TD class="menu"><a class="menuLink" href="links.html">Links</A></TD></TR>
<TR><TD class="menu"><a class="menuLink" href="contact.html">Contact us</A></TD></TR>
</TABLE>
<P class="menu">
<TABLE BORDER="1" rules="none" CELLPADDING="4" CELLSPACING="0" WIDTH="100%" STYLE="BORDER-COLOR:#000000" summary="">
<TR><TD class="bottomMenu"><A class="bottomMenuLink" target="_blank" href="http://www.sf.net/projects/iiop-net">SF Project Page</A></TD></TR>
<TR><TD class="bottomMenu"><A href="http://sourceforge.net"> <IMG border="0" src="http://sourceforge.net/sflogo.php?gr
oup_id=80227&amp;type=2" width="106" height="30" border="0" alt="SourceForge Log
o"></A></TD></TR>
</TABLE>
<P class="menu">
<TABLE border="0" bgcolor="#CC3300" width="100%" height="100%" summary="">
<TR>
<TD></TD>
</TR>
</TABLE>
  <!-- menu end -->
  </TD>
  <TD></TD>
  <TD COLSPAN="2" ROWSPAN="3" STYLE="padding-top: 15px; padding-right: 8px">
  <!-- content begin -->
  <H2 class="contentPart">IBM Websphere 5 compatibility howto</H2>
<p>
This howto contains information for IIOP.NET 1.2.3 or newer.
<p>
<b>Accessing the name service</b> <BR> <BR>
The Websphere nameservice can be accessed from a .NET client with the following code:
<pre>
    RmiIiopInit init = new RmiIiopInit(nameServiceHost, nameServicePort);
    NamingContext nameService = (NamingContext)init.GetService("NameServiceServerRoot");
</pre> <p>
Because the type of the NamingContext returned is Websphere-specific,
the following file must be added to every IIOP.NET Websphere client, when using an IIOP.NET version prior to 1.3.1:
<pre>
    //IbmNaming.cs
    
    using Ch.Elca.Iiop.Idl;
    using Ch.Elca.Iiop.Services;

    namespace com.ibm.WsnOptimizedNaming {
    
        [RepositoryIDAttribute("IDL:com.ibm/WsnOptimizedNaming/NamingContext:1.0")]
        [InterfaceTypeAttribute(IdlTypeInterface.ConcreteInterface)]
        public interface NamingContext : omg.org.CosNaming.NamingContext {
        }

    }

</pre>
<p>
Hint: This interface has been added to the channel in version 1.3.1.
<BR> <BR>
Hint: The nameservice is listening normally on port 2809.
<p>
<b>Using an EJB</b> <BR> <BR>
The ejb home interface is accessed using the name service in the following way:
<pre>
    NameComponent[] name = new NameComponent[] { new NameComponent("MyHome", "") };
    // get the reference to the adder-home
    MyEjbHome myHomeIf = (MyEjbHome)nameService.resolve(name);
</pre> <p>
The ejb can now be created using this home interface (standard ejb pattern):
<pre>
    MyEjb myBean = myHomeIf.create();
</pre> <p>
<p>
<b>Known problems</b> <BR> <BR>
<UL>
<LI>The java String type does not work up to and including IIOP.NET 1.2.3;
The problem was first fixed in IIOP.NET 1.3.0.</LI>
</UL>
  <!-- content end -->
  </TD>
  <TD BGCOLOR="#000000"></TD>
  <TD COLSPAN="2" ROWSPAN="3" STYLE="padding-top: 15px; padding-right: 8 px; padding-left: 8px" width="208">
  <!-- about begin -->
<H2 class="ABOUT">About this project</H2>
<p>
<B>This project</B> is maintained by <A target="_blank" class="textLink" href="http://www.elca.ch">Elca Informatique SA</A> and
 was developed in collaboration with
the <A target="_blank" class="textLink" href="http://www.cs.inf.ethz.ch/gutknecht/index.html">Programming Languages and Runtime Systems Research Group</A> of the ETH-Zurich
as part of Dominic Ullmann's diploma thesis.
<p>
<A target="_blank" href="http://www.elca.ch"><img src="images/iiop_logo_elca.gif" border="0" alt=""></A>
<A target="_blank" href="http://www.ethz.ch"><img src="images/iiop_logo_eth.gif" border="0" alt=""></A>
<H2 class="ABOUT">IIOP.NET Use Cases</H2>
<p>
Read the IIOP.NET <A href="success.html">success stories</A>.
<H2 class="ABOUT">News</H2>
<p>
<IFRAME src="newsFeed.html" width="208px" height="100%">
</IFRAME>
  <!-- about end -->
  </TD>
  <TD BGCOLOR="#CCCC99" colspan="2" rowspan="2" height="585" valign="top" STYLE="vertical-align: top;"><IMG align="top" src="images/iiop_border_right.gif" alt=""></TD>
  </TR>
<!--Line 6 -->
<TR>
  <TD width="0" height="323"></TD>
  <TD BGCOLOR="#CC3300"></TD>
  <TD></TD>
  <!-- rowspan -->
  <!-- rowspan -->
  <TD BGCOLOR="#000000"></TD>
  <!-- rowspan -->
  <!-- rowspan -->
  <!-- rowspan -->
  <!-- rowspan -->
  <!--TD BGCOLOR="#CCCC99"></TD-->
  <!--TD BGCOLOR="#CCCC99" height="323px" valign="top"><IMG src="images/iiop_border_right2.gif" alt=""></TD-->
</TR>
<!--Line 7: extension row -->
<TR>
  <TD width="0"></TD>
  <TD BGCOLOR="#CC3300"></TD>
  <TD>&nbsp;</TD>
  <!-- rowspan -->
  <!-- rowspan -->
  <TD BGCOLOR="#000000"></TD>
  <!-- rowspan -->
  <!-- rowspan -->
  <TD BGCOLOR="#CCCC99"></TD>
  <TD BGCOLOR="#CCCC99"></TD>
</TR>
<!--Line 8 -->
<TR>
  <TD width="0" height="60"></TD>
  <TD BGCOLOR="#CC3300"></TD>
  <TD></TD>
  <TD COLSPAN="2" STYLE="padding-top: 20px;">
<!-- Disclaimer -->
&copy; 2003-2004 ELCA All Rights Reserved
<!-- Disclaimer -->
  </TD>
  <TD COLSPAN="3"></TD>
  <TD BGCOLOR="#CCCC99"></TD>
  <TD BGCOLOR="#CCCC99" height="60px"></TD>
</TR>
</TABLE>
</BODY>
</HTML>
